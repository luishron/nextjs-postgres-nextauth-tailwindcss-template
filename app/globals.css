@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ========================================
       TALLIFY DESIGN SYSTEM - Light Mode
       Optimized with Wise-inspired balance
       ======================================== */

    /* Backgrounds - Más limpio y blanco */
    --background: 56 40% 99%;          /* Casi blanco con toque beige #FEFDFB */
    --foreground: 153 65% 8%;          /* Verde pino dark #071C11 for text */

    /* Cards & Surfaces - Contraste sutil */
    --card: 0 0% 100%;                 /* Blanco puro para cards principales */
    --card-foreground: 153 65% 8%;     /* Verde pino dark */

    --popover: 0 0% 100%;              /* Blanco puro */
    --popover-foreground: 153 65% 8%;

    /* Brand Colors - Verde Vibrante (sin cambios, es perfecto) */
    --primary: 98 100% 70%;            /* Verde vibrante #9FFF66 */
    --primary-foreground: 153 65% 8%;  /* Verde pino dark on primary */

    --secondary: 56 25% 93%;           /* Beige muy suave, menos saturado */
    --secondary-foreground: 153 65% 8%;

    /* Interactive States - Balance mejorado */
    --muted: 56 20% 96%;               /* Beige ultra suave, casi gris */
    --muted-foreground: 153 15% 40%;   /* Gris verdoso más neutral */

    --accent: 56 30% 94%;              /* Beige suave para hover */
    --accent-foreground: 153 65% 8%;   /* Verde pino dark */

    /* Functional Colors - Optimizados */
    --destructive: 0 84% 60%;          /* Rojo para gastos/errores */
    --destructive-foreground: 0 0% 100%;

    --success: 98 100% 70%;            /* Verde vibrante #9FFF66 para ingresos */
    --success-foreground: 153 65% 8%;

    --warning: 38 92% 50%;             /* Amber/naranja */
    --warning-foreground: 0 0% 100%;

    --info: 199 89% 48%;               /* Azul */
    --info-foreground: 0 0% 100%;

    /* Transaction Colors - Semantic for finance */
    --transaction-income: 142 76% 45%;      /* Verde para ingresos */
    --transaction-expense: 0 84% 60%;       /* Rojo para gastos */
    --transaction-transfer: 199 89% 48%;    /* Azul para transferencias */

    /* Icon Colors - Hierarchy */
    --icon-primary: 153 65% 8%;             /* Verde pino oscuro */
    --icon-secondary: 153 15% 40%;          /* Gris verdoso */
    --icon-tertiary: 153 10% 60%;           /* Gris claro */

    /* Surface Elevations */
    --surface-raised: 0 0% 100%;            /* Blanco puro elevado */
    --surface-overlay: 0 0% 98%;            /* Overlay modals */

    /* Borders & Inputs - Más sutiles */
    --border: 56 20% 90%;              /* Border muy suave */
    --input: 56 20% 88%;               /* Input border ligeramente más visible */
    --ring: 98 100% 70%;               /* Verde vibrante focus ring */

    --radius: 0.75rem;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(98 100% 70%) 0%, hsl(110 90% 65%) 100%);
    --gradient-success: linear-gradient(135deg, hsl(98 100% 70%) 0%, hsl(142 76% 55%) 100%);
    --gradient-card: linear-gradient(135deg, hsl(0 0% 100%) 0%, hsl(56 30% 98%) 100%);
  }

  .dark {
    /* ========================================
       TALLIFY DESIGN SYSTEM - Dark Mode
       Optimized with better contrast and balance
       ======================================== */

    /* Backgrounds - Más profundo y neutral */
    --background: 160 10% 8%;          /* Más oscuro con toque verde #131618 */
    --foreground: 40 15% 95%;          /* Texto más brillante #F2F1ED */

    /* Cards & Surfaces - Mejor contraste */
    --card: 160 8% 12%;                /* Cards más claras que bg #1A1E21 */
    --card-foreground: 40 15% 95%;     /* Soft warm white */

    --popover: 160 8% 11%;             /* Popover ligeramente más oscuro */
    --popover-foreground: 40 15% 95%;

    /* Brand Colors - Verde Vibrante (sin cambios) */
    --primary: 98 100% 70%;            /* Verde vibrante #9FFF66 */
    --primary-foreground: 160 20% 8%;  /* Dark background on primary */

    --secondary: 160 8% 18%;           /* Secondary más visible */
    --secondary-foreground: 40 15% 95%;

    /* Interactive States - Mejor definición */
    --muted: 160 8% 15%;               /* Muted más claro que bg */
    --muted-foreground: 40 10% 60%;    /* Texto muted más legible */

    --accent: 160 10% 18%;             /* Accent bien diferenciado */
    --accent-foreground: 40 15% 98%;   /* Texto muy brillante en accent */

    /* Functional Colors */
    --destructive: 0 72% 50%;          /* Slightly darker for better contrast */
    --destructive-foreground: 0 0% 100%;

    --success: 98 100% 70%;            /* Verde vibrante #9FFF66 */
    --success-foreground: 160 20% 8%;  /* Dark text on success */

    --warning: 38 92% 55%;             /* Amber */
    --warning-foreground: 160 20% 8%;  /* Dark text on warning */

    --info: 199 89% 55%;               /* Bright blue */
    --info-foreground: 0 0% 100%;

    /* Transaction Colors - Semantic for finance */
    --transaction-income: 142 76% 50%;      /* Verde para ingresos (más brillante en dark) */
    --transaction-expense: 0 72% 55%;       /* Rojo para gastos (más suave en dark) */
    --transaction-transfer: 199 89% 55%;    /* Azul para transferencias */

    /* Icon Colors - Hierarchy */
    --icon-primary: 40 15% 95%;             /* Beige claro para iconos */
    --icon-secondary: 40 10% 60%;           /* Gris cálido */
    --icon-tertiary: 40 8% 40%;             /* Gris oscuro */

    /* Surface Elevations */
    --surface-raised: 160 8% 15%;           /* Card elevado en dark */
    --surface-overlay: 160 10% 10%;         /* Overlay oscuro */

    /* Borders & Inputs - Más visibles */
    --border: 160 8% 20%;              /* Border más visible #2D3336 */
    --input: 160 8% 22%;               /* Input borders claros */
    --ring: 98 100% 70%;               /* Verde vibrante focus ring */

    /* Gradients - Adjusted for dark mode */
    --gradient-primary: linear-gradient(135deg, hsl(98 100% 70%) 0%, hsl(110 90% 65%) 100%);
    --gradient-success: linear-gradient(135deg, hsl(98 100% 70%) 0%, hsl(142 76% 55%) 100%);
    --gradient-card: linear-gradient(135deg, hsl(160 8% 12%) 0%, hsl(160 10% 10%) 100%);
  }
}

@layer base {
  :root {
    --font-sans: var(--font-inter), system-ui, -apple-system, sans-serif;
    --font-mono: var(--font-mono), 'Courier New', monospace;
  }

  * {
    @apply border-border;
    transition-property: color, background-color, border-color, box-shadow, transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-feature-settings: 'cv05' 1, 'cv10' 1, 'tnum' 1; /* Better number legibility + tabular nums */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Responsive font scaling */
  html {
    font-size: 16px;
  }

  /* Mobile small: slightly smaller */
  @media (max-width: 375px) {
    html {
      font-size: 15px;
    }
  }

  /* Desktop: slightly larger */
  @media (min-width: 1024px) {
    html {
      font-size: 17px;
    }
  }

  /* Desktop XL: larger */
  @media (min-width: 1536px) {
    html {
      font-size: 18px;
    }
  }
}

/* Chrome, Safari, Edge, Opera */
input[type='search']::-webkit-search-cancel-button {
  -webkit-appearance: none;
  appearance: none;
}

/* Firefox */
input[type='search']::-moz-search-cancel-button {
  display: none;
}

/* Microsoft Edge */
input[type='search']::-ms-clear {
  display: none;
}

/* Custom Scrollbar */
.overflow-x-auto::-webkit-scrollbar {
  height: 4px;
}
.overflow-x-auto::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}
.overflow-x-auto::-webkit-scrollbar-thumb {
  background: hsl(var(--primary) / 0.3);
  border-radius: 2px;
}

/* Smooth Animations - Wise-inspired micro-interactions */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes pulse-ring {
  0% {
    transform: scale(0.95);
    opacity: 0.7;
  }
  50% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(0.95);
    opacity: 0.7;
  }
}

@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-4px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(4px);
  }
}

/* Wise-inspired utilities */
@layer utilities {
  /* Money display - tabular numbers for alignment */
  .text-money {
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.01em;
  }

  /* Card hover effects */
  .card-hover {
    @apply transition-all duration-200 hover:shadow-md hover:scale-[1.01];
  }

  /* Subtle shadow for cards */
  .shadow-card {
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 200ms ease-out;
  }

  .animate-fade-in-up {
    animation: fadeInUp 300ms ease-out;
  }

  .animate-fade-in-down {
    animation: fadeInDown 300ms ease-out;
  }

  .animate-slide-in-left {
    animation: slideInLeft 250ms ease-out;
  }

  .animate-slide-in-right {
    animation: slideInRight 250ms ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 200ms ease-out;
  }

  .animate-bounce-subtle {
    animation: bounce-subtle 600ms ease-in-out infinite;
  }

  .animate-shake {
    animation: shake 400ms ease-in-out;
  }

  /* Smooth transitions */
  .transition-smooth {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-smooth-slow {
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Hover effects */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-0.5;
  }

  .hover-glow {
    @apply transition-shadow duration-200 hover:shadow-lg hover:shadow-primary/10;
  }

  /* Loading shimmer effect */
  .loading-shimmer {
    background: linear-gradient(
      90deg,
      hsl(var(--muted)) 0%,
      hsl(var(--muted-foreground) / 0.1) 50%,
      hsl(var(--muted)) 100%
    );
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
  }

  /* Focus Visible - WCAG 2.4.7 (AA) Compliance */
  /* Ensure all interactive elements have visible focus indicators */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible,
  [role="button"]:focus-visible,
  [role="tab"]:focus-visible,
  [role="menuitem"]:focus-visible,
  [role="link"]:focus-visible,
  [role="switch"]:focus-visible,
  [tabindex]:focus-visible {
    @apply ring-2 ring-ring ring-offset-2 ring-offset-background outline-none;
  }

  /* Specific focus styles for components */
  .focus-ring-primary:focus-visible {
    @apply ring-primary;
  }

  .focus-ring-destructive:focus-visible {
    @apply ring-destructive;
  }

  .focus-ring-success:focus-visible {
    @apply ring-success;
  }
}

/* Accessibility - Reduce Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
